<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/15_stlye_main.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
    <script src="https://kit.fontawesome.com/704cd0872f.js" crossorigin="anonymous"></script><!--FontAwesome CDN-->
</head>
<body>
    <nav class="navbar" style="display: flex;">
        <div class="navbar_toggle">
            <a href="#" class="menu">
                <i class="fa-solid fa-bars"></i>
            </a>
        </div>
        <div class="navbar_logo">
            <img id ="logo" src="/image/logo3.png">
        </div>
        <div class="navbar_x">
            <a href="/html/10_icon.html" class="close"><i class="fa-regular fa-bell"></i></a>
        </div>
    </nav>

    <div class="date">
        <img src="/image/today.png" alt=""><div id="current_date"></p></div>
    </div>

    <div class="out_form">
        <div class="title">
            <p>Farm 01</p> <img src="/image/calendar.png" alt="">
        </div>
            <div class="sensor_form">
                <div class="t_h">
                    <div id="temp">
                        <div class="sensor_title">
                            <p><span>온도</span></p>
                        </div>
                        <div class="sensor_value">
                            <p><span>22℃</span></p>
                        </div>
                        
                    </div>
                    <div id="humidity">
                        <div class="sensor_title">
                            <p><span>습도</span></p>
                        </div>
                        <div class="sensor_value">
                            <p><span>18%</span></p>
                        </div>
                    </div>
                </div>
                <div class="c_w">
                    <div id="CO2">
                        <div class="sensor_title">
                            <p><span>CO2</span></p>
                        </div>
                        <div class="sensor_value">
                            <p><span>72ppm</span></p>
                        </div>
                       
                    </div>
                    <div id="watertank">
                        <div class="sensor_title">
                            <p><span>물탱크</span></p>
                        </div>
                        <div class="sensor_value">
                            <p><span>60%</span></p>
                        </div>
                        
                    </div>
                </div>
            </div>
            
        <div class="act_form">
            <div class="act_btn">
                <img src="/image/auto_mode.png" alt="">
            </div>
            <div class="act_btn">
                <img id="air_off" src="/image/air_off.png" alt="">
                <img src="/image/temp_form.png" alt="">                           
            </div>
            <div class="act_font">
                <p class="act_name1"><span>에어컨</span></p> <p class="act_name1"><span>목표 온도 설정</span></p>
            </div>
            <div class="act_btn">
                <img id="fan_off" src="/image/fan_off.png" alt="">
                <img id="led_off" src="/image/led_off.png" alt="">
                <img id="o2_off" src="/image/o2_off.png" alt="">
            </div>
            <div class="act_font">
                <p class="act_name2_1"><span>환기</span></p><p class="act_name2"><span>LED</span></p><p class="act_name2"><span>산소발생기</span></p>
            </div>
            <div class="act_btn1">
                <img id="water_off" src="/image/water_off.png" alt="">
                <img id="robot_off" src="/image/robot_off.png" alt="">
            </div>
            <div class="act_font">
                <p class="act_name3_1"><span>급수</span></p><p class="act_name3"><span>NH-Arm</span></p>
            </div>
        </div>
        <div id="on_off">
            <img id="btn_off" src="/image/btn_off.png" alt="">
        </div>
        <div id="up_down">
            <img id="up" src="/image/triangle_up.png" alt="">
            <div id="line"></div>
            <img id="down" src="/image/triangle_down.png" alt="">  
        </div>
        <div id="temperature"><p><span id="temp_cnt">22</span><span>℃</span></p></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script>
        date = new Date();
        year = date.getFullYear();
        month = date.getMonth() + 1;
        day = date.getDate();
        document.getElementById("current_date").innerHTML = year + "." + month + "." + day;

        // 자동버튼
        $(document).on('click','#btn_off',function(){
            // 자동버튼 off -> 자동버튼 on
            $(this).attr('src', '/image/btn_on.png')
            //id라는 속성삭제
            $(this).removeAttr('id')
            //버튼에 btn_on라는 id부여
            $(this).attr('id','btn_on')
        })
        $(document).on('click','#btn_on',function(){
            // 자동버튼 on -> 자동버튼 off
            $(this).attr('src', '/image/btn_off.png')
            // id라는 속성삭제
            $(this).removeAttr('id')
            //버튼에 btn_off라는 id부여
            $(this).attr('id','btn_off')
        })

        // 에어컨버튼
        $(document).on('click','#air_off',function(){
            $(this).attr('src', '/image/air_on.png')
            $(this).removeAttr('id')
            $(this).attr('id','air_on')
        })
        $(document).on('click','#air_on',function(){
            $(this).attr('src', '/image/air_off.png')
            $(this).removeAttr('id')
            $(this).attr('id','air_off')
        })
        // 환기버튼
        $(document).on('click','#fan_off',function(){
            $(this).attr('src', '/image/fan_on.png')
            $.ajax({
                url: `/btn3?c=${1}`,
                type: "GET",
                success: function (data) {
                    console.log("버튼3 DB on 전송 성공");
                    },
                });
            $(this).removeAttr('id')
            $(this).attr('id','fan_on')
        })
        $(document).on('click','#fan_on',function(){
            $(this).attr('src', '/image/fan_off.png')
            $.ajax({
                url: `/btn3?c=${0}`,
                type: "GET",
                success: function (data) {
                    console.log("버튼3 DB off 전송 성공");
                    },
                });
            $(this).removeAttr('id')
            $(this).attr('id','fan_off')
        })
        // LED버튼
        $(document).on('click','#led_off',function(){
            $(this).attr('src', '/image/led_on.png')
            $(this).removeAttr('id')
            $(this).attr('id','led_on')
        })
        $(document).on('click','#led_on',function(){
            $(this).attr('src', '/image/led_off.png')
            $(this).removeAttr('id')
            $(this).attr('id','led_off')
        })
        // 산소발생기버튼
        $(document).on('click','#o2_off',function(){
            $(this).attr('src', '/image/o2_on.png')
            $(this).removeAttr('id')
            $(this).attr('id','o2_on')
        })
        $(document).on('click','#o2_on',function(){
            $(this).attr('src', '/image/o2_off.png')
            $(this).removeAttr('id')
            $(this).attr('id','o2_off')
        }) 
        // 급수버튼
        $(document).on('click','#water_off',function(){
            $(this).attr('src', '/image/water_on.png')
            $(this).removeAttr('id')
            $(this).attr('id','water_on')
        })
        $(document).on('click','#water_on',function(){
            $(this).attr('src', '/image/water_off.png')
            $(this).removeAttr('id')
            $(this).attr('id','water_off')
        }) 
        // 로봇버튼
        $(document).on('click','#robot_off',function(){
            $(this).attr('src', '/image/robot_on.png')
            $(this).removeAttr('id')
            $(this).attr('id','robot_on')
        })
        $(document).on('click','#robot_on',function(){
            $(this).attr('src', '/image/robot_off.png')
            $(this).removeAttr('id')
            $(this).attr('id','robot_off')
        })
        $(document).on('click','#up',function(){
            const current = parseInt(temp_cnt.innerText, 10);
            temp_cnt.innerText = current + 1;
        })
        $(document).on('click','#down',function(){
            const current = parseInt(temp_cnt.innerText, 10);
            temp_cnt.innerText = current - 1;
        })                  
    </script>
</body>
</html>